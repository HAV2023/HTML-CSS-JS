<!DOCTYPE html>
<html lang="es">
<head>
  <!-- Configuraci√≥n de codificaci√≥n de caracteres UTF-8 para soporte completo de caracteres especiales -->
  <meta charset="UTF-8" />
  
  <!-- Configuraci√≥n de viewport para dise√±o responsive en dispositivos m√≥viles -->
  <!-- width=device-width: el ancho de la p√°gina debe coincidir con el ancho de la pantalla del dispositivo -->
  <!-- initial-scale=1: el nivel de zoom inicial cuando la p√°gina se carga por primera vez -->
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  <!-- T√≠tulo que aparece en la pesta√±a del navegador -->
  <title>Formulario Profesional con Validaci√≥n de Email</title>
  
  <!-- Importaci√≥n de fuentes Google Fonts -->
  <!-- Lato: Fuente principal para el cuerpo del texto, incluye pesos 400 (normal) y 700 (bold) -->
  <!-- Roboto: Fuente secundaria para t√≠tulos y elementos destacados -->
  <!-- display=swap: mejora la performance al mostrar texto de respaldo hasta que la fuente se carga -->
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet" />
  
  <!-- SDK de EmailJS para env√≠o de emails sin servidor backend -->
  <!-- Versi√≥n 3 es la m√°s estable y compatible -->
  <!-- CDN de EmailJS para manejo de env√≠o de formularios por email -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  
  <!-- Importaci√≥n de hoja de estilos CSS personalizada -->
  <!-- Contiene todos los estilos visuales del formulario -->
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Contenedor principal que centra y da estilo al formulario -->
  <!-- La clase 'container' est√° definida en styles.css -->
  <div class="container">
    
    <!-- T√≠tulo principal del formulario -->
    <!-- Usa la fuente Roboto con peso 700 (definido en CSS) -->
    <h1>Formulario de Registro</h1>
    
    <!-- Mensaje informativo sobre la nueva funcionalidad de validaci√≥n -->
    <!-- Estilos inline para personalizaci√≥n espec√≠fica -->
    <!-- text-align: center - centra el texto -->
    <!-- color: #666 - color gris medio para texto secundario -->
    <!-- margin-bottom: 30px - espacio inferior antes del formulario -->
    <!-- font-size: 0.9rem - tama√±o ligeramente menor que el texto normal -->
    <p style="text-align: center; color: #666; margin-bottom: 30px; font-size: 0.9rem;">
      <!-- Emoji ‚ú® para llamar la atenci√≥n -->
      ‚ú® <strong>Nuevo:</strong> Validaci√≥n autom√°tica de correos electr√≥nicos en tiempo real
    </p>

    <!-- Formulario principal con validaci√≥n personalizada -->
    <!-- id="professionalForm": identificador √∫nico para JavaScript -->
    <!-- novalidate: desactiva la validaci√≥n HTML5 nativa para usar validaci√≥n personalizada -->
    <form id="professionalForm" novalidate>

      <!-- === CAMPO: NOMBRE COMPLETO === -->
      <!-- Contenedor div para agrupar label, input y mensaje de error -->
      <div>
        <!-- Label asociado al campo nombre -->
        <!-- for="name": asocia la etiqueta con el input mediante su ID -->
        <!-- class="required": clase CSS que agrega asterisco rojo (*) -->
        <label for="name" class="required">Nombre completo</label>
        
        <!-- Input para el nombre -->
        <!-- type="text": campo de texto simple -->
        <!-- id="name": identificador √∫nico para JavaScript y label -->
        <!-- name="user_name": nombre que se env√≠a al servicio de email -->
        <!-- placeholder: texto de ayuda que aparece cuando el campo est√° vac√≠o -->
        <!-- required: atributo HTML5 de validaci√≥n (aunque usamos validaci√≥n personalizada) -->
        <input
          type="text"
          id="name"
          name="user_name"
          placeholder="Escribe tu nombre completo"
          required
        />
        
        <!-- Contenedor para mensajes de error espec√≠ficos del campo nombre -->
        <!-- class="error-message": estilo CSS para mensajes de error -->
        <!-- id="error-name": identificador √∫nico para mostrar errores desde JavaScript -->
        <!-- aria-live="polite": accesibilidad - anuncia cambios a lectores de pantalla -->
        <div class="error-message" id="error-name" aria-live="polite"></div>
      </div>

      <!-- === CAMPO: CORREO ELECTR√ìNICO === -->
      <!-- Contenedor especial para el campo de email con validaci√≥n en tiempo real -->
      <!-- class="email-field-container": clase CSS para efectos visuales de validaci√≥n -->
      <div class="email-field-container">
        <!-- Label para el campo de email -->
        <label for="email" class="required">Correo electr√≥nico</label>
        
        <!-- Input para el email -->
        <!-- type="email": tipo espec√≠fico para emails (activa teclado especial en m√≥viles) -->
        <!-- id="email": identificador √∫nico para validaci√≥n en tiempo real -->
        <!-- name="user_email": nombre que se env√≠a al servicio de email -->
        <!-- autocomplete="email": ayuda al navegador a autocompletar con emails guardados -->
        <input
          type="email"
          id="email"
          name="user_email"
          placeholder="ejemplo@dominio.com"
          required
          autocomplete="email"
        />
        
        <!-- Contenedor para mensajes de error/validaci√≥n del email -->
        <!-- Este campo es especial porque mostrar√° estados: validando, v√°lido, inv√°lido -->
        <div class="error-message" id="error-email" aria-live="polite"></div>
        
        <!-- Mensaje informativo sobre la validaci√≥n autom√°tica -->
        <!-- Estilos inline para texto peque√±o e informativo -->
        <div style="font-size: 0.8rem; color: #666; margin-top: 4px;">
          üìß Verificaremos autom√°ticamente que tu email sea v√°lido
        </div>
      </div>

      <!-- === CAMPO: CONFIRMAR CORREO ELECTR√ìNICO === -->
      <div>
        <!-- Label para confirmaci√≥n de email -->
        <label for="emailConfirm" class="required">Confirmar correo electr√≥nico</label>
        
        <!-- Input para confirmar email -->
        <!-- id="emailConfirm": identificador para validaci√≥n de coincidencia -->
        <!-- name="user_email_confirm": nombre para el servicio de email -->
        <input
          type="email"
          id="emailConfirm"
          name="user_email_confirm"
          placeholder="Repite tu correo electr√≥nico"
          required
          autocomplete="email"
        />
        
        <!-- Contenedor para errores de confirmaci√≥n de email -->
        <div class="error-message" id="error-emailConfirm" aria-live="polite"></div>
      </div>

      <!-- === CAMPO: CONTRASE√ëA === -->
      <div>
        <!-- Label para contrase√±a -->
        <label for="password" class="required">Contrase√±a</label>
        
        <!-- Contenedor especial para input con bot√≥n de mostrar/ocultar -->
        <!-- class="input-password": clase CSS que posiciona el bot√≥n de toggle -->
        <div class="input-password">
          <!-- Input para contrase√±a -->
          <!-- type="password": oculta el texto por seguridad -->
          <!-- id="password": identificador para validaci√≥n y toggle -->
          <!-- autocomplete="new-password": indica al navegador que es una contrase√±a nueva -->
          <input
            type="password"
            id="password"
            name="user_password"
            placeholder="Ingresa tu contrase√±a"
            required
            autocomplete="new-password"
          />
          
          <!-- Bot√≥n para mostrar/ocultar contrase√±a -->
          <!-- type="button": evita que env√≠e el formulario al hacer clic -->
          <!-- id="togglePassword": identificador para el evento JavaScript -->
          <!-- aria-label: descripci√≥n para lectores de pantalla -->
          <button type="button" id="togglePassword" aria-label="Mostrar/ocultar contrase√±a">üëÅÔ∏è</button>
        </div>
        
        <!-- Contenedor para errores de contrase√±a -->
        <div class="error-message" id="error-password" aria-live="polite"></div>
      </div>

      <!-- === CAMPO: CONFIRMAR CONTRASE√ëA === -->
      <div>
        <!-- Label para confirmaci√≥n de contrase√±a -->
        <label for="passwordConfirm" class="required">Confirmar contrase√±a</label>
        
        <!-- Contenedor con bot√≥n de toggle para confirmaci√≥n de contrase√±a -->
        <div class="input-password">
          <!-- Input para confirmar contrase√±a -->
          <!-- id="passwordConfirm": identificador para validaci√≥n de coincidencia -->
          <input
            type="password"
            id="passwordConfirm"
            name="user_password_confirm"
            placeholder="Repite tu contrase√±a"
            required
            autocomplete="new-password"
          />
          
          <!-- Bot√≥n de toggle para confirmaci√≥n de contrase√±a -->
          <button type="button" id="togglePasswordConfirm" aria-label="Mostrar/ocultar contrase√±a">üëÅÔ∏è</button>
        </div>
        
        <!-- Contenedor para errores de confirmaci√≥n de contrase√±a -->
        <div class="error-message" id="error-passwordConfirm" aria-live="polite"></div>
      </div>

      <!-- === CAMPO: EDAD === -->
      <div>
        <!-- Label para edad -->
        <label for="age" class="required">Edad</label>
        
        <!-- Input para edad -->
        <!-- type="text": aunque es num√©rico, usamos text para mayor control en JavaScript -->
        <!-- maxlength="3": m√°ximo 3 caracteres (hasta 999 a√±os) -->
        <!-- JavaScript convierte autom√°ticamente a may√∫sculas y filtra solo n√∫meros -->
        <input
          type="text"
          id="age"
          name="user_age"
          placeholder="Ejemplo: 35"
          required
          maxlength="3"
        />
        
        <!-- Contenedor para errores de edad -->
        <div class="error-message" id="error-age" aria-live="polite"></div>
      </div>

      <!-- === CAMPO: FECHA DE NACIMIENTO === -->
      <div>
        <!-- Label para fecha de nacimiento -->
        <label for="birthdate" class="required">Fecha de nacimiento</label>
        
        <!-- Input para fecha -->
        <!-- type="date": activa selector de fecha nativo del navegador -->
        <!-- JavaScript establece autom√°ticamente max="fecha_actual" para prevenir fechas futuras -->
        <input type="date" id="birthdate" name="user_birthdate" required />
        
        <!-- Contenedor para errores de fecha de nacimiento -->
        <div class="error-message" id="error-birthdate" aria-live="polite"></div>
      </div>

      <!-- === CAMPO: COMENTARIOS (OPCIONAL) === -->
      <div>
        <!-- Label para comentarios (sin clase required porque es opcional) -->
        <label for="comments">Comentarios (opcional)</label>
        
        <!-- Textarea para comentarios largos -->
        <!-- rows="5": altura inicial de 5 l√≠neas -->
        <!-- maxlength="2000": l√≠mite de 2000 caracteres -->
        <!-- JavaScript muestra contador de caracteres en tiempo real -->
        <textarea
          id="comments"
          name="user_comments"
          placeholder="Escribe aqu√≠ tus comentarios"
          rows="5"
          maxlength="2000"
        ></textarea>
        
        <!-- Contador de caracteres (actualizado por JavaScript) -->
        <!-- class="char-counter": estilo CSS para el contador -->
        <!-- id="commentsCounter": identificador para actualizaci√≥n din√°mica -->
        <div class="char-counter" id="commentsCounter">0 / 2000 caracteres</div>
        
        <!-- Contenedor para errores de comentarios -->
        <div class="error-message" id="error-comments" aria-live="polite"></div>
      </div>

      <!-- === BOT√ìN DE ENV√çO === -->
      <!-- Bot√≥n principal para enviar el formulario -->
      <!-- type="submit": tipo submit para enviar formulario -->
      <!-- id="submitBtn": identificador para controlar estado (habilitado/deshabilitado) -->
      <button type="submit" id="submitBtn">Enviar informaci√≥n</button>
    </form>

    <!-- === INFORMACI√ìN SOBRE VALIDACI√ìN DE EMAIL === -->
    <!-- Panel informativo sobre las caracter√≠sticas de validaci√≥n -->
    <!-- Estilos inline para dise√±o espec√≠fico de este elemento -->
    <!-- background: #e3f2fd - fondo azul claro -->
    <!-- border: 1px solid #2196F3 - borde azul -->
    <!-- padding: 12px - espacio interior -->
    <!-- border-radius: 8px - esquinas redondeadas -->
    <!-- margin-top: 20px - espacio superior -->
    <!-- font-size: 0.85rem - texto ligeramente m√°s peque√±o -->
    <!-- color: #1565C0 - texto azul oscuro -->
    <div style="background: #e3f2fd; border: 1px solid #2196F3; padding: 12px; border-radius: 8px; margin-top: 20px; font-size: 0.85rem; color: #1565C0;">
      <!-- T√≠tulo del panel informativo -->
      <strong>üîç Validaci√≥n de Email:</strong>
      
      <!-- Lista de caracter√≠sticas de validaci√≥n -->
      <!-- margin: 8px 0 - espaciado vertical -->
      <!-- padding-left: 20px - indentaci√≥n para las vi√±etas -->
      <ul style="margin: 8px 0; padding-left: 20px;">
        <li>Verificamos el formato del email</li>                    <!-- Validaci√≥n sint√°ctica -->
        <li>Validamos que el dominio existe</li>                     <!-- Verificaci√≥n DNS MX -->
        <li>Confirmamos que el buz√≥n de correo est√° activo</li>       <!-- Verificaci√≥n SMTP -->
        <li>Detectamos emails temporales o desechables</li>          <!-- Filtrado de spam -->
      </ul>
    </div>

    <!-- === MENSAJES DE ESTADO (OCULTOS INICIALMENTE) === -->
    
    <!-- Mensaje de √©xito (se muestra cuando el formulario se env√≠a correctamente) -->
    <!-- class="success-message": estilo CSS verde para √©xito -->
    <!-- id="successMessage": identificador para mostrar desde JavaScript -->
    <!-- style="display:none": oculto inicialmente -->
    <div class="success-message" id="successMessage" style="display:none;">
      ¬°Formulario enviado con √©xito! Te contactaremos pronto.
      <br><br>
      
      <!-- Enlace a p√°gina de agradecimiento -->
      <!-- Estilos inline para enlace destacado -->
      <a href="gracias.html" style="color: #155724; text-decoration: underline; font-weight: bold;">
        Ver p√°gina de agradecimiento completa ‚Üí
      </a>
      <br><br>
      
      <!-- Bot√≥n para recargar p√°gina y enviar otro formulario -->
      <!-- onclick="window.location.reload()": recarga la p√°gina -->
      <!-- Estilos inline para bot√≥n verde -->
      <button onclick="window.location.reload()" style="background: #155724; color: white; border: none; padding: 8px 16px; border-radius: 5px; cursor: pointer; font-weight: bold;">
        Enviar otro formulario
      </button>
    </div>

    <!-- Mensaje de env√≠o (se muestra mientras se procesa el env√≠o) -->
    <!-- class="sending-message": estilo CSS amarillo con animaci√≥n de pulso -->
    <!-- id="sendingMessage": identificador para mostrar desde JavaScript -->
    <div class="sending-message" id="sendingMessage" style="display:none;">
      Enviando... Por favor espera.
    </div>

    <!-- Mensaje de error (se muestra si falla el env√≠o) -->
    <!-- class="error-message-global": estilo CSS rojo para errores globales -->
    <!-- id="errorMessage": identificador para mostrar desde JavaScript -->
    <div class="error-message-global" id="errorMessage" style="display:none;">
      Error al enviar el formulario. Por favor, int√©ntalo de nuevo.
    </div>
  </div>

  <!-- === IMPORTACI√ìN DE JAVASCRIPT === -->
  <!-- Archivo JavaScript que contiene toda la l√≥gica del formulario -->
  <!-- Incluye: validaciones, env√≠o con EmailJS, validaci√≥n de email con API -->
  <script src="script.js"></script>
</body>
</html>
