/* ===================================================================
   RESET Y CONFIGURACIÓN BASE
   =================================================================== */

/* Reset universal para todos los elementos */
/* box-sizing: border-box hace que padding y border se incluyan en el width/height total */
/* Esto evita problemas de dimensionamiento y hace los cálculos más predecibles */
* {
  box-sizing: border-box;
}

/* Estilos base para el body (contenedor principal de toda la página) */
body {
  /* Fuente principal Lato, con fallback a sans-serif si no carga */
  font-family: 'Lato', sans-serif;
  
  /* Color de fondo gris claro (#f0f2f5) para toda la página */
  background: #f0f2f5;
  
  /* Eliminar márgenes por defecto del navegador */
  margin: 0;
  
  /* Padding: 40px arriba/abajo, 20px izquierda/derecha */
  /* Esto crea espacio alrededor del formulario */
  padding: 40px 20px;
  
  /* Flexbox para centrar el contenido */
  display: flex;
  justify-content: center;    /* Centra horizontalmente */
  align-items: flex-start;    /* Alinea al inicio verticalmente (no centrado completo) */
  
  /* Altura mínima de toda la ventana del navegador */
  min-height: 100vh;
}

/* ===================================================================
   CONTENEDOR PRINCIPAL DEL FORMULARIO
   =================================================================== */

/* Estilo para la caja blanca que contiene todo el formulario */
.container {
  /* Fondo blanco para contrastar con el fondo gris de la página */
  background: #fff;
  
  /* Padding interno: 32px arriba/abajo, 36px izquierda/derecha */
  padding: 32px 36px;
  
  /* Esquinas redondeadas de 12px para un look moderno */
  border-radius: 12px;
  
  /* Sombra sutil: desplazamiento 0 4px, difuminado 15px, color negro al 10% opacidad */
  /* Esto da efecto de "elevación" sobre el fondo */
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  
  /* Ancho máximo de 480px para que no se extienda demasiado en pantallas grandes */
  max-width: 480px;
  
  /* Ancho del 100% hasta llegar al max-width */
  width: 100%;
}

/* ===================================================================
   TÍTULO PRINCIPAL
   =================================================================== */

/* Estilo para el título H1 del formulario */
h1 {
  /* Fuente Roboto para títulos, más limpia y moderna que Lato */
  font-family: 'Roboto', sans-serif;
  
  /* Peso de fuente 700 (bold) para destacar */
  font-weight: 700;
  
  /* Color gris oscuro (#222) en lugar de negro puro para menos contraste */
  color: #222;
  
  /* Margen inferior de 24px para separar del contenido siguiente */
  margin-bottom: 24px;
  
  /* Texto centrado */
  text-align: center;
}

/* ===================================================================
   ESTRUCTURA DEL FORMULARIO
   =================================================================== */

/* Contenedor del formulario usando Flexbox para layout vertical */
form {
  /* Flexbox con dirección columna (elementos uno debajo del otro) */
  display: flex;
  flex-direction: column;
  
  /* Gap de 20px entre cada campo del formulario */
  /* Esto reemplaza tener que poner margin en cada elemento */
  gap: 20px;
}

/* ===================================================================
   ETIQUETAS (LABELS)
   =================================================================== */

/* Estilo base para todas las etiquetas de campos */
label {
  /* Texto en negrita para que destaque */
  font-weight: 700;
  
  /* Margen inferior de 6px para separar del input */
  margin-bottom: 6px;
  
  /* Display inline-block permite aplicar margin y padding */
  display: inline-block;
  
  /* Color gris medio para texto de etiquetas */
  color: #444;
}

/* Pseudo-elemento para campos obligatorios */
/* Se aplica a labels con clase "required" */
label.required::after {
  /* Contenido del asterisco rojo después del texto */
  content: " *";
  
  /* Color rojo para indicar campo obligatorio */
  color: #d93025;
}

/* ===================================================================
   INPUTS Y CAMPOS DE ENTRADA
   =================================================================== */

/* Estilo base para todos los tipos de input y textarea */
input[type="text"],
input[type="email"],
input[type="password"],
input[type="date"],
textarea {
  /* Ancho completo del contenedor */
  width: 100%;
  
  /* Padding interno: 12px arriba/abajo, 14px izquierda/derecha */
  padding: 12px 14px;
  
  /* Borde de 2px sólido gris claro */
  border: 2px solid #ccc;
  
  /* Esquinas redondeadas de 10px */
  border-radius: 10px;
  
  /* Tamaño de fuente estándar (1rem = 16px por defecto) */
  font-size: 1rem;
  
  /* Fuente Roboto para texto de inputs */
  font-family: 'Roboto', sans-serif;
  
  /* Transición suave para efectos hover/focus */
  /* 0.3s de duración, ease para aceleración natural */
  transition: border-color 0.3s ease, box-shadow 0.3s ease;
}

/* ===================================================================
   TRANSFORMACIÓN DE TEXTO EN INPUTS
   =================================================================== */

/* Solo los inputs de texto (nombre, edad) se convierten a mayúsculas */
/* Esto es útil para estandarizar nombres y edades */
input[type="text"] {
  text-transform: uppercase;
}

/* Los demás tipos de input NO se transforman */
/* !important asegura que esta regla tenga prioridad */
input[type="email"],
input[type="password"],
input[type="date"],
textarea {
  text-transform: none !important;
}

/* ===================================================================
   ESTADOS DE FOCUS (CUANDO EL USUARIO HACE CLIC EN UN CAMPO)
   =================================================================== */

/* Efectos visuales cuando el usuario enfoca un campo */
input:focus,
textarea:focus {
  /* Cambiar borde a color azul cuando está activo */
  border-color: #3a86ff;
  
  /* Sombra azul brillante alrededor del campo */
  /* Difuminado de 8px, color azul al 40% opacidad */
  box-shadow: 0 0 8px rgba(58,134,255,0.4);
  
  /* Eliminar el outline por defecto del navegador */
  outline: none;
}

/* ===================================================================
   ESTADOS DE VALIDACIÓN DE EMAIL (FUNCIONALIDAD NUEVA)
   =================================================================== */

/* Estilo para email que está siendo validado en tiempo real */
input.validating {
  /* Color de borde naranja para indicar "procesando" */
  /* !important asegura que tenga prioridad sobre otros estilos */
  border-color: #ff9800 !important;
  
  /* Sombra naranja para feedback visual */
  box-shadow: 0 0 8px rgba(255, 152, 0, 0.4) !important;
  
  /* Efecto de rayas diagonales animadas en el fondo */
  /* linear-gradient crea patrón de rayas */
  background-image: linear-gradient(45deg, transparent 35%, rgba(255, 152, 0, 0.1) 50%, transparent 65%);
  
  /* Tamaño del patrón de rayas */
  background-size: 20px 20px;
  
  /* Animación que mueve las rayas continuamente */
  animation: loading-stripes 1s linear infinite;
}

/* Animación para el efecto de rayas móviles */
@keyframes loading-stripes {
  0% { background-position: 0 0; }      /* Posición inicial */
  100% { background-position: 20px 0; } /* Posición final (movimiento horizontal) */
}

/* Estilo para email válido (pasó todas las validaciones) */
input.valid {
  /* Borde verde para indicar éxito */
  border-color: #4CAF50 !important;
  
  /* Sombra verde */
  box-shadow: 0 0 8px rgba(76, 175, 80, 0.4) !important;
  
  /* Fondo verde muy claro (5% opacidad) */
  background-color: rgba(76, 175, 80, 0.05);
}

/* Estilo para email inválido (falló validación) */
input.invalid {
  /* Borde rojo para indicar error */
  border-color: #d93025 !important;
  
  /* Sombra roja */
  box-shadow: 0 0 8px rgba(217, 48, 37, 0.4) !important;
  
  /* Fondo rojo muy claro (5% opacidad) */
  background-color: rgba(217, 48, 37, 0.05);
}

/* Spinner animado para campo que se está validando */
/* Este pseudo-elemento crea un círculo giratorio */
input.validating::after {
  /* Contenido vacío (solo visual) */
  content: '';
  
  /* Posicionamiento absoluto para colocar dentro del input */
  position: absolute;
  right: 10px;                    /* 10px desde el borde derecho */
  top: 50%;                       /* Al centro vertical */
  transform: translateY(-50%);    /* Ajuste fino para centrado perfecto */
  
  /* Dimensiones del spinner */
  width: 16px;
  height: 16px;
  
  /* Borde para crear círculo */
  border: 2px solid #ff9800;           /* Borde naranja */
  border-top: 2px solid transparent;   /* Parte superior transparente */
  border-radius: 50%;                  /* Forma circular */
  
  /* Animación de rotación infinita */
  animation: spin 1s linear infinite;
}

/* Animación de rotación para el spinner */
@keyframes spin {
  0% { transform: translateY(-50%) rotate(0deg); }     /* Sin rotación */
  100% { transform: translateY(-50%) rotate(360deg); } /* Rotación completa */
}

/* ===================================================================
   TEXTAREA (CAMPO DE COMENTARIOS)
   =================================================================== */

/* Configuración específica para el área de texto */
textarea {
  /* Permitir solo redimensionamiento vertical */
  /* El usuario puede hacer el textarea más alto/bajo pero no más ancho */
  resize: vertical;
  
  /* Altura mínima de 100px */
  min-height: 100px;
}

/* ===================================================================
   CAMPOS DE CONTRASEÑA CON BOTÓN DE MOSTRAR/OCULTAR
   =================================================================== */

/* Contenedor para inputs de contraseña con botón de toggle */
.input-password {
  /* Posicionamiento relativo para elementos absolutos internos */
  position: relative;
}

/* Input dentro del contenedor de contraseña */
.input-password input {
  /* Padding extra a la derecha para hacer espacio al botón */
  padding-right: 42px;
  
  /* Asegurar que no se transforme a mayúsculas */
  text-transform: none !important;
}

/* Botón de mostrar/ocultar contraseña */
.input-password button {
  /* Posicionamiento absoluto dentro del input */
  position: absolute;
  right: 10px;                    /* 10px desde el borde derecho */
  top: 50%;                       /* Centro vertical */
  transform: translateY(-50%);    /* Ajuste fino de centrado */
  
  /* Quitar estilos de botón por defecto */
  background: transparent;
  border: none;
  cursor: pointer;                /* Cursor de mano al pasar sobre él */
  
  /* Estilo del emoji/ícono */
  font-size: 18px;
  color: #666;                    /* Color gris medio */
  
  /* Prevenir selección de texto del emoji */
  user-select: none;
  
  /* Transición suave para el cambio de color */
  transition: color 0.3s ease;
  
  /* Padding para área de clic más grande */
  padding: 4px;
}

/* Efecto hover para el botón de contraseña */
.input-password button:hover {
  /* Cambiar a azul al pasar el mouse */
  color: #3a86ff;
}

/* ===================================================================
   BOTÓN DE ENVÍO
   =================================================================== */

/* Estilo principal del botón de envío */
button[type="submit"] {
  /* Color de fondo azul */
  background: #3a86ff;
  
  /* Texto blanco */
  color: #fff;
  
  /* Sin borde */
  border: none;
  
  /* Esquinas redondeadas */
  border-radius: 10px;
  
  /* Padding interno para tamaño adecuado */
  padding: 14px 20px;
  
  /* Tamaño de fuente ligeramente mayor */
  font-size: 1.1rem;
  
  /* Texto en negrita */
  font-weight: 700;
  
  /* Fuente Roboto */
  font-family: 'Roboto', sans-serif;
  
  /* Cursor de mano */
  cursor: pointer;
  
  /* Transición suave para todos los efectos */
  transition: all 0.3s ease;
}

/* Efecto hover del botón (solo si no está deshabilitado) */
button[type="submit"]:hover:not(:disabled) {
  /* Color más oscuro al hacer hover */
  background: #265dcc;
  
  /* Efecto de "elevación" moviendo 1px hacia arriba */
  transform: translateY(-1px);
}

/* Estilo para botón deshabilitado */
button[type="submit"]:disabled {
  /* Color gris para indicar que no está disponible */
  background: #ccc;
  
  /* Cursor normal (no de mano) */
  cursor: not-allowed;
  
  /* Sin transformación */
  transform: none;
}

/* ===================================================================
   MENSAJES DE ERROR
   =================================================================== */

/* Estilo base para mensajes de error de campos individuales */
.error-message {
  /* Color rojo para errores */
  color: #d93025;
  
  /* Tamaño de fuente más pequeño */
  font-size: 0.875rem;
  
  /* Espacio superior */
  margin-top: 4px;
  
  /* Oculto por defecto (se muestra con JavaScript) */
  display: none;
  
  /* Altura mínima para evitar "saltos" en el layout */
  min-height: 20px;
  
  /* Altura de línea para mejor legibilidad */
  line-height: 1.4;
}

/* Botones dentro de mensajes de error (para sugerencias) */
.error-message button {
  /* Fondo naranja para sugerencias */
  background: #ff9800;
  
  /* Texto blanco */
  color: white;
  
  /* Sin borde */
  border: none;
  
  /* Padding pequeño */
  padding: 2px 6px;
  
  /* Esquinas redondeadas pequeñas */
  border-radius: 3px;
  
  /* Espacio a la izquierda */
  margin-left: 5px;
  
  /* Cursor de mano */
  cursor: pointer;
  
  /* Fuente más pequeña */
  font-size: 0.8rem;
  
  /* Transición para hover */
  transition: background 0.3s ease;
}

/* Hover para botones en mensajes de error */
.error-message button:hover {
  /* Naranja más oscuro */
  background: #f57c00;
}

/* Mensaje de error global (para errores del formulario completo) */
.error-message-global {
  /* Fondo rojo claro */
  background: #f8d7da;
  
  /* Texto rojo oscuro */
  color: #721c24;
  
  /* Borde rojo */
  border: 1px solid #f5c6cb;
  
  /* Padding para contenido */
  padding: 14px 20px;
  
  /* Esquinas redondeadas */
  border-radius: 10px;
  
  /* Espacio superior */
  margin-top: 20px;
  
  /* Oculto por defecto */
  display: none;
  
  /* Texto en negrita */
  font-weight: 700;
  
  /* Texto centrado */
  text-align: center;
}

/* ===================================================================
   CONTADOR DE CARACTERES
   =================================================================== */

/* Estilo para el contador de caracteres del textarea */
.char-counter {
  /* Fuente pequeña */
  font-size: 0.85rem;
  
  /* Color gris */
  color: #666;
  
  /* Espacio superior */
  margin-top: 4px;
  
  /* Alineado a la derecha */
  text-align: right;
  
  /* No seleccionable (es solo informativo) */
  user-select: none;
}

/* ===================================================================
   MENSAJE DE ÉXITO
   =================================================================== */

/* Estilo para mensaje de éxito después del envío */
.success-message {
  /* Fondo verde claro */
  background: #d4edda;
  
  /* Texto verde oscuro */
  color: #155724;
  
  /* Borde verde */
  border: 1px solid #c3e6cb;
  
  /* Padding interno */
  padding: 14px 20px;
  
  /* Esquinas redondeadas */
  border-radius: 10px;
  
  /* Espacio superior */
  margin-top: 20px;
  
  /* Oculto por defecto */
  display: none;
  
  /* Texto en negrita */
  font-weight: 700;
  
  /* Texto centrado */
  text-align: center;
}

/* ===================================================================
   MENSAJE DE ENVÍO (LOADING)
   =================================================================== */

/* Estilo para mensaje mostrado mientras se envía el formulario */
.sending-message {
  /* Fondo amarillo claro */
  background: #fff3cd;
  
  /* Texto amarillo oscuro */
  color: #856404;
  
  /* Borde amarillo */
  border: 1px solid #ffeaa7;
  
  /* Padding interno */
  padding: 14px 20px;
  
  /* Esquinas redondeadas */
  border-radius: 10px;
  
  /* Espacio superior */
  margin-top: 20px;
  
  /* Oculto por defecto */
  display: none;
  
  /* Texto en negrita */
  font-weight: 700;
  
  /* Texto centrado */
  text-align: center;
  
  /* Animación de pulso para indicar actividad */
  animation: pulse 1.5s infinite;
}

/* Animación de pulso (cambio de opacidad) */
@keyframes pulse {
  0%, 100% { opacity: 1; }     /* Completamente visible */
  50% { opacity: 0.7; }        /* Parcialmente transparente */
}

/* ===================================================================
   ESTILOS ESPECÍFICOS PARA VALIDACIÓN DE EMAIL
   =================================================================== */

/* Campo de error específico para email */
#error-email {
  /* Altura mínima mayor para acomodar mensajes más largos */
  min-height: 24px;
}

/* Texto en negrita dentro de mensajes de error de email */
#error-email strong {
  font-weight: bold;
}

/* ===================================================================
   SUGERENCIAS DE DOMINIO
   =================================================================== */

/* Contenedor para sugerencias de corrección de dominio */
.domain-suggestion {
  /* Fondo amarillo claro */
  background: #fff3cd;
  
  /* Borde amarillo */
  border: 1px solid #ffeaa7;
  
  /* Padding interno */
  padding: 10px;
  
  /* Esquinas redondeadas */
  border-radius: 6px;
  
  /* Espacio superior */
  margin-top: 5px;
  
  /* Fuente ligeramente más pequeña */
  font-size: 0.9rem;
  
  /* Color de texto amarillo oscuro */
  color: #856404;
  
  /* Flexbox para layout horizontal */
  display: flex;
  align-items: center;              /* Centrado vertical */
  justify-content: space-between;   /* Espacio entre elementos */
  flex-wrap: wrap;                  /* Permitir salto de línea en pantallas pequeñas */
}

/* Botón dentro de sugerencia de dominio */
.domain-suggestion button {
  /* Fondo amarillo oscuro */
  background: #856404;
  
  /* Texto blanco */
  color: white;
  
  /* Sin borde */
  border: none;
  
  /* Padding pequeño */
  padding: 4px 8px;
  
  /* Esquinas redondeadas */
  border-radius: 4px;
  
  /* Cursor de mano */
  cursor: pointer;
  
  /* Fuente pequeña */
  font-size: 0.8rem;
  
  /* Espacio a la izquierda */
  margin-left: 5px;
  
  /* Transición para hover */
  transition: background 0.3s ease;
}

/* Hover para botón de sugerencia */
.domain-suggestion button:hover {
  /* Color más oscuro */
  background: #6c5d03;
}

/* ===================================================================
   INDICADORES DE ESTADO VISUAL
   =================================================================== */

/* Indicador visual para estado de validación */
.validation-indicator {
  /* Posicionamiento absoluto */
  position: absolute;
  right: 45px;                    /* Espacio para no solapar con otros elementos */
  top: 50%;                       /* Centro vertical */
  transform: translateY(-50%);    /* Ajuste fino */
  
  /* Tamaño del ícono */
  font-size: 16px;
  
  /* No interfiere con clics */
  pointer-events: none;
}

/* ===================================================================
   ANIMACIÓN DE CARGA ESPECÍFICA PARA EMAIL
   =================================================================== */

/* Contenedor de campo de email */
.email-field-container {
  /* Posicionamiento relativo para elementos absolutos internos */
  position: relative;
}

/* Spinner específico para validación de email */
.email-field-container.loading::after {
  /* Contenido vacío */
  content: '';
  
  /* Posicionamiento absoluto */
  position: absolute;
  right: 15px;                    /* Posición desde la derecha */
  top: 50%;                       /* Centro vertical */
  transform: translateY(-50%);    /* Ajuste fino */
  
  /* Dimensiones del spinner */
  width: 16px;
  height: 16px;
  
  /* Crear círculo con borde */
  border: 2px solid #ff9800;           /* Borde naranja */
  border-top: 2px solid transparent;   /* Parte superior transparente */
  border-radius: 50%;                  /* Forma circular */
  
  /* Animación de rotación */
  animation: emailSpinner 1s linear infinite;
  
  /* Z-index alto para aparecer sobre otros elementos */
  z-index: 10;
}

/* Animación específica para spinner de email */
@keyframes emailSpinner {
  0% { transform: translateY(-50%) rotate(0deg); }     /* Inicio */
  100% { transform: translateY(-50%) rotate(360deg); } /* Rotación completa */
}

/* ===================================================================
   RESPONSIVE DESIGN (ADAPTACIÓN A MÓVILES)
   =================================================================== */

/* Media query para pantallas pequeñas (600px o menos) */
@media (max-width: 600px) {
  
  /* Ajustar contenedor principal para móviles */
  .container {
    /* Menos padding en pantallas pequeñas */
    padding: 20px;
    
    /* Márgenes laterales para evitar que toque los bordes */
    margin: 20px 10px;
  }
  
  /* Título más pequeño en móviles */
  h1 {
    font-size: 1.5rem;
  }
  
  /* Sugerencias de dominio en columna para móviles */
  .domain-suggestion {
    /* Cambiar a dirección vertical */
    flex-direction: column;
    
    /* Alinear al inicio */
    align-items: flex-start;
    
    /* Espacio entre elementos */
    gap: 8px;
  }
  
  /* Botón de sugerencia sin margen izquierdo en móviles */
  .domain-suggestion button {
    margin-left: 0;
    margin-top: 5px;
  }
  
  /* Mensajes de error más pequeños en móviles */
  .error-message {
    font-size: 0.8rem;
  }
}
